# コーディング規約

このドキュメントは、`sql-learning-app` プロジェクトにおける開発の進め方、コーディングスタイル、および Git の利用方法に関する規約を定めたものです。
プロジェクトに参加するすべての開発者は、この規約に従うことを目指してください。

## 1. ブランチ戦略

当プロジェクトでは、`main` ブランチを常に安定した状態に保つため、GitHub Flow に似たシンプルなブランチ戦略を採用します。

### ブランチの種類

- **`main`**: 本番環境にデプロイ可能な、常に安定したブランチです。このブランチへの直接のコミットは禁止します。
- **フィーチャーブランチ**: 新機能の開発、バグ修正、リファクタリングなど、あらゆる作業を行うためのブランチです。

### 開発フロー

1.  **ブランチの作成**:

    - 必ず最新の `main` ブランチから新しいブランチを作成します。
    - ブランチ名には、作業内容がわかるように接頭辞をつけます。
      - 新機能: `feature/` (例: `feature/add-user-profile`)
      - バグ修正: `fix/` (例: `fix/login-form-validation`)
      - ドキュメント: `docs/` (例: `docs/update-readme`)
      - その他: `chore/` (例: `chore/setup-linter`)

    ```bash
    # 最新のmainブランチに移動
    git checkout main
    git pull origin main

    # 新しいフィーチャーブランチを作成
    git checkout -b feature/new-awesome-feature
    ```

2.  **開発とコミット**:

    - フィーチャーブランチで開発を行い、作業の区切りが良い単位でコミットします。
    - コミットメッセージは、後述する「2. コミットメッセージ規約」に従ってください。

3.  **Pull Request (PR) の作成**:

    - 作業が完了したら、リモートリポジトリにブランチをプッシュし、`main` ブランチへの Pull Request を作成します。
    - PR の説明欄には、変更の目的、内容、テスト方法などを具体的に記述します。

4.  **コードレビューとマージ**:
    - チームメンバーによるコードレビューを受けます。
    - レビューで指摘された点を修正し、承認（Approve）されたら `main` ブランチにマージします。
    - マージ後、不要になったフィーチャーブランチは削除します。

## 2. コミットメッセージ規約

コミット履歴を分かりやすく保つため、Conventional Commits の規約に準拠します。

### フォーマット

```
<type>(<scope>): <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
```

- **type**: コミットの種類を表します。以下のいずれかを使用してください。
  - `feat`: 新機能の追加
  - `fix`: バグの修正
  - `docs`: ドキュメントの変更
  - `style`: コードフォーマットの修正など（動作に影響しない変更）
  - `refactor`: コードのリファクタリング
  - `test`: テストコードの追加・修正
  - `chore`: ビルドプロセスや補助ツールの変更など
- **scope** (任意): 変更の範囲を記述します (例: `login`, `api`, `db`)。
- **subject**: 変更内容を 50 文字以内で簡潔に記述します。

### 良いコミットメッセージの例

```
feat(auth): add user registration and login endpoints
```

```
fix(problem): correct JSON format in problem generation logic

The generated JSON was missing a closing bracket, causing a parsing
error on the frontend. This commit fixes the structure.
```

## 3. コーディングスタイル

### フォーマット

- プロジェクトで採用しているフォーマッター（例: Prettier, gofmt, Black など）を必ず実行し、コードの見た目を統一してください。
- `pre-commit` フックなどを利用して、コミット前に自動でフォーマットを適用することを推奨します。

### 命名規則

- 変数名や関数名は、その役割が明確にわかるように命名してください。
- プロジェクトで使用している言語の標準的な命名規則（例: `camelCase`, `PascalCase`, `snake_case`）に従ってください。

### コメント

- 複雑なロジックや、一見して意図が分かりにくいコードには、**「なぜ」**そのように書いたのかを説明するコメントを残してください。
- コードを読めばわかる**「何」**をしているかの説明は不要です。

## 4. Pull Request (PR) の規約

- **タイトル**: コミットメッセージの `subject` と同様に、変更内容が簡潔にわかるように記述します。
- **説明 (Description)**:
  - **この PR が解決する課題は何か？**: 関連する Issue があればリンクを貼ります。
  - **どのような変更を加えたか？**: 具体的な変更点をリストアップします。
  - **レビュー担当者に見てほしい点はどこか？**: 特に注意して確認してほしい箇所を伝えます。
  - **UI の変更がある場合**: スクリーンショットや GIF を添付します。

---

この規約はプロジェクトの成長に合わせて更新される可能性があります。
